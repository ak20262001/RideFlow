<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RideFlow</title>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    background: #080810;
    color: #f0f0ff;
    font-family: 'DM Sans', sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
  }
  .loader {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }
  .logo {
    font-family: 'Syne', sans-serif;
    font-size: 26px;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .logo-icon {
    width: 42px;
    height: 42px;
    border-radius: 14px;
    background: linear-gradient(135deg, #6ee7b7, #3b82f6);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    box-shadow: 0 4px 20px rgba(110,231,183,0.25);
  }
  .bar {
    width: 180px;
    height: 3px;
    border-radius: 2px;
    background: rgba(255,255,255,0.08);
    overflow: hidden;
  }
  .bar-fill {
    height: 100%;
    border-radius: 2px;
    background: linear-gradient(90deg, #6ee7b7, #3b82f6);
    animation: load 0.9s ease forwards;
  }
  @keyframes load { from { width: 0%; } to { width: 100%; } }
</style>
</head>
<body>
<div class="loader">
  <div class="logo">
    <div class="logo-icon">ðŸ›µ</div>
    RideFlow
  </div>
  <div class="bar"><div class="bar-fill"></div></div>
</div>
<script src="shared/storage.js"></script>
<script src="shared/auth.js"></script>
<script>
  (function () {
    var user = Auth.getCurrentUser();
    if (user) {
      window.location.replace(user.type === 'driver' ? '/driver-dashboard/' : '/customer-dashboard/');
    } else {
      window.location.replace('/auth/login.html');
    }
  })();
</script>
</body>
</html>
